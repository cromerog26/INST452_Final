---
title: "INST452 Final Project"
author: "Cesar Romero-Gonzalez, Micah Seghetti, Minsung Kim, Neha Mathur, Zulykath Lucero"
date: "2025-05-11"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Data Preprocessing
The dataset has no missing values. The dataset was preprocessed; *bucketing of age*.

```{r}
# Import Data
df <- read.csv("diabetes_012_health_indicators_BRFSS2015.csv")

# Examine the dataset
summary(df)
str(df)

# Handle Missing Values
df <- drop_na(df) # There are no missing values in the data

names(df)

```

# Data Visualization

```{r}
library(tidyverse)
library(ggplot2)
library(corrplot)
library(caret)

# (adjust your path as needed to your local path)
data <- read.csv("diabetes_012_health_indicators_BRFSS2015.csv")

head(data)

data$Diabetes_012 <- factor(data$Diabetes_012, levels = c(0,1), labels = c("No", "Yes"))


# 1. Histogram of BMI
ggplot(data, aes(x = BMI)) +
  geom_histogram(bins = 30, fill = "skyblue", color = "black") +
  labs(title = "Distribution of BMI", x = "BMI", y = "Count") +
  theme_minimal()

# 2. Box Plot: Age Category by Diabetes Status
ggplot(data, aes(x = Age, y = BMI, fill = Diabetes_012)) +
  geom_boxplot() +
  labs(title = "BMI by Age Category and Diabetes Status", x = "Age Category", y = "BMI") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
  theme_minimal()

# 3. Correlation Heatmap
# Select only numeric columns for correlation
numeric_data <- data %>%
  select_if(is.numeric)

cor_matrix <- cor(numeric_data, use = "complete.obs")

corrplot(cor_matrix, method = "color", type = "upper", 
         tl.col = "black", tl.cex = 0.8, title = "Correlation Heatmap", mar = c(0,0,1,0))

```

# Model Building

```{r}

# Loading Libraries
library(tidyverse)
library(caret)
library(rpart)
library(e1071)
library(class)

# Splitting the data into 75% training and 25% testing sets

# Set seed for reproducibility
set.seed(123)

# Splitting data
train_index <- createDataPartition(df$Outcome, p = 0.75, list = FALSE)

# Create training and testing subsets
train <- df[train_index, ]
test <- df[-train_index, ]

# Set up cross-validation with 5 folds and configure ROC-based evaluation
ctrl <- trainControl(method = "cv", number = 5,
                     classProbs = TRUE, summaryFunction = twoClassSummary)

# Training Decision Tree Model
model_tree <- train(Outcome ~ ., data = train,
                    method = "rpart",
                    trControl = ctrl,
                    metric = "ROC")
# Training SVM 
model_svm <- train(Outcome ~ ., data = train,
                   method = "svmRadial",
                   trControl = ctrl,
                   metric = "ROC")

# Training KNN
model_knn <- train(Outcome ~ ., data = train,
                   method = "kknn",
                   trControl = ctrl,
                   metric = "ROC")
```

# Cross-Validation Model Evaluation

```{r}

```

# Fairness and Bias Evaluation

```{r}

```

# Test Set Model Evaluation

```{r}

```
